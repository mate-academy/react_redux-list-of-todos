{"version":3,"sources":["store/store.js","components/User/User.js","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","App/App.js","App/index.js","index.js"],"names":["ACTION_TYPES","ADD_DATA","LOAD_DATA","SORT_DATA","COMPLETE_DATA","loadData","data","type","payload","initialState","isLoading","isReady","getData","dispatch","store","Promise","all","fetch","then","_ref","_ref2","Object","slicedToArray","res1","res2","json","_ref3","_ref4","todos","users","map","todo","_objectSpread","user","find","person","id","userId","createStore","state","arguments","length","undefined","action","toConsumableArray","sort","a","b","title","localeCompare","completed","applyMiddleware","thunk","User","react_default","createElement","className","name","href","concat","email","phone","website","TodoItem","User_User","TodoList","dataFromServer","item","components_TodoItem_TodoItem","key","App","props","sortData","completeData","onClick","components_TodoList_TodoList","EnhancedApp","connect","ReactDOM","render","es","document","getElementById"],"mappings":"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","file":"static/js/main.7d67322a.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst TODOS_API_URL = 'https://jsonplaceholder.typicode.com/todos';\nconst USERS_API_URL = 'https://jsonplaceholder.typicode.com/users';\n\nconst ACTION_TYPES = {\n  ADD_DATA: 'DATA::ADD',\n  LOAD_DATA: 'LOAD::ADD',\n  SORT_DATA: 'SORT::DATA',\n  COMPLETE_DATA: 'COMPLETE_DATA',\n};\n\nexport const addData = data => ({\n  type: ACTION_TYPES.ADD_DATA,\n  payload: data,\n});\n\nexport const sortData = data => ({\n  type: ACTION_TYPES.SORT_DATA,\n  payload: data,\n});\n\nexport const completeData = data => ({\n  type: ACTION_TYPES.COMPLETE_DATA,\n  payload: data,\n});\n\nconst loadData = data => ({\n  type: ACTION_TYPES.LOAD_DATA,\n  payload: data,\n});\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  isReady: true,\n};\n\nexport const getData = () => (dispatch) => {\n  store.dispatch(loadData());\n  Promise.all([\n    fetch(TODOS_API_URL),\n    fetch(USERS_API_URL),\n  ])\n    .then(([res1, res2]) => Promise.all([res1.json(), res2.json()]))\n    .then(([todos, users]) => store.dispatch(addData(todos.map(todo => (\n      {\n        ...todo,\n        user: users.find(person => person.id === todo.userId),\n      }\n    ))),\n    store.dispatch(loadData())));\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.ADD_DATA: {\n      return {\n        ...state,\n        data: action.payload,\n      };\n    }\n    case ACTION_TYPES.LOAD_DATA: {\n      return {\n        ...state,\n        isLoading: !state.isLoading,\n      };\n    }\n    case ACTION_TYPES.SORT_DATA: {\n      return {\n        ...state,\n        data: [...state.data].sort((a, b) => (a.title.localeCompare(b.title)\n        )),\n      };\n    }\n    case ACTION_TYPES.COMPLETE_DATA: {\n      return {\n        ...state,\n        data: [...state.data].sort((a, b) => b.completed - a.completed),\n      };\n    }\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction User({ user }) {\n  return (\n    <div className=\"user-info\">\n      <p>\n        <strong>{user.name}</strong>\n      </p>\n      <a href={`mailto:${user.email}`}>{user.email}</a>\n      <p>{user.phone}</p>\n      <a href={`${user.website}`}>{user.website}</a>\n    </div>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    phone: PropTypes.string.isRequired,\n    website: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from '../User/User';\nimport './TodoItem.css';\n\nfunction TodoItem({ todo }) {\n  return (\n    <div\n      className={todo.completed\n        ? 'todo-item__complete'\n        : 'todo-item__not-complete'}\n    >\n      <h2>{todo.title}</h2>\n      <p>{todo.completed ? 'Completed' : 'Not completed'}</p>\n      <User user={todo.user} />\n    </div>\n  );\n}\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    user: PropTypes.array.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired,\n  }).isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from '../TodoItem/TodoItem';\nimport './TodoList.css';\n\nfunction TodoList({ dataFromServer }) {\n  return (\n    <div className=\"todos-list\">\n      {dataFromServer.map(item => <TodoItem todo={item} key={item.id} />)}\n    </div>\n  );\n}\n\nTodoList.propTypes = {\n  dataFromServer: PropTypes.arrayOf().isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodoList from '../components/TodoList/TodoList';\nimport './App.css';\n\nfunction App(props) {\n  const {\n    data,\n    isLoading,\n    getData,\n    sortData,\n    completeData,\n  } = props;\n  if (isLoading) {\n    return (\n      <div className=\"app\">\n        <p>Loading ...</p>\n      </div>\n    );\n  }\n\n  if (data.length === 0) {\n    return (\n      <div className=\"start\">\n        <button\n          className=\"start-button\"\n          type=\"button\"\n          onClick={getData}\n        >\n          Show\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <h1>Dynamic list of todos</h1>\n      <button\n        className=\"button-sort\"\n        type=\"button\"\n        onClick={sortData}\n      >\n        Task\n      </button>\n      <button\n        className=\"button-sort\"\n        type=\"button\"\n        onClick={completeData}\n      >\n        Complete\n      </button>\n      <TodoList\n        dataFromServer={data}\n      />\n    </div>\n  );\n}\n\nApp.propTypes = {\n  data: PropTypes.arrayOf().isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  getData: PropTypes.func.isRequired,\n  sortData: PropTypes.func.isRequired,\n  completeData: PropTypes.func.isRequired,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { getData, sortData, completeData } from '../store/store';\n\nconst mapDispatchToProps = dispatch => ({\n  getData: () => dispatch(getData()),\n  sortData: () => dispatch(sortData()),\n  completeData: () => dispatch(completeData()),\n});\n\nconst EnhancedApp = connect(\n  state => ({ data: state.data, isLoading: state.isLoading }),\n  mapDispatchToProps,\n)(App);\n\nexport {\n  EnhancedApp as App,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\nimport { App } from './App/index';\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}