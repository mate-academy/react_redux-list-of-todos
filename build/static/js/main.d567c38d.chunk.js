(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,n){e.exports=n(273)},143:function(e,t,n){},148:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);n(138);var r=n(0),a=n.n(r),l=n(19),o=n.n(l),c=(n(143),n(33)),u=(n(148),n(42)),i=n(116),s=n(117),d=n(80),E=n.n(d),O=n(118),p="https://jsonplaceholder.typicode.com/",f={USERS:"".concat(p,"users"),TODOS:"".concat(p,"todos")},m={LOADING_ERROR:"Sorry, the server is unavailable",RETRY_LOADING:"Try again"},y={GET_TODOS:"GET_TODOS",GET_USERS:"GET_USERS",SET_LOADING_ERROR:"SET_LOADING_ERROR",CLOSE_TODO:"CLOSE_TODO"};function b(e){return{type:y.GET_TODOS,payload:e}}function R(e){return{type:y.GET_USERS,payload:e}}function T(e){return{type:y.SET_LOADING_ERROR,payload:e}}function S(e){return function(t){var n;t((n=e,{type:y.CLOSE_TODO,payload:n}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D={todoList:null,userList:null,loadingError:null,editItem:null};var j=n(280),L=n(278),g=n(279),w=n(281),h=n(276),C=n(35),G=Object(c.b)(function(e){return{editItem:e.editItem}},function(e){return{closeTodo:function(t){return e(S(t))}}})(function(e){var t=e.todo,n=e.index,r=e.closeTodo,l=n+1;return a.a.createElement(g.a.Row,{key:t.id,className:t.completed?"positive":"warning"},a.a.createElement(g.a.Cell,null,l),a.a.createElement(g.a.Cell,null,t.title),a.a.createElement(g.a.Cell,null,t.user),a.a.createElement(g.a.Cell,null,a.a.createElement("span",{className:"cell-icon"},t.completed?"Completed":"In progress"),a.a.createElement(C.a,{name:"close",onClick:function(){return r(t.id)},style:t.completed?{display:"inline-block"}:{display:"none"}})))}),I=Object(c.b)(function(e){return{todos:e.todoList,users:e.userList,error:e.loadingError}},function(e){return{loadTodos:function(){return e(function(){var e=Object(O.a)(E.a.mark(function e(t){var n,r,a,l,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(T(null)),n=!1,e.prev=2,e.next=5,fetch(f.TODOS);case 5:return r=e.sent,e.next=8,fetch(f.USERS);case 8:if(a=e.sent,200!==r.status||200!==a.status){e.next=19;break}return e.next=12,r.json();case 12:return l=e.sent,e.next=15,a.json();case 15:o=e.sent,t(b(l)),t(R(o)),n=!0;case 19:return e.prev=19,n||t(T(m.LOADING_ERROR)),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,,19,22]])}));return function(t){return e.apply(this,arguments)}}())}}})(function(e){var t=e.todos,n=e.users,l=e.error,o=e.loadTodos;return Object(r.useEffect)(function(){o()},[]),l?a.a.createElement(j.a,{negative:!0,className:"error-area"},a.a.createElement(j.a.Header,null,l),a.a.createElement(L.a,{negative:!0,onClick:o,className:"error-button"},m.RETRY_LOADING)):t&&n?a.a.createElement(g.a,{celled:!0},a.a.createElement(g.a.Header,null,a.a.createElement(g.a.Row,null,a.a.createElement(g.a.HeaderCell,null,"N"),a.a.createElement(g.a.HeaderCell,null,"Title"),a.a.createElement(g.a.HeaderCell,null,"User"),a.a.createElement(g.a.HeaderCell,null,"Completeness"))),a.a.createElement(g.a.Body,null,function(e,t){return e.map(function(e){return{id:e.id,title:e.title,completed:e.completed,user:t.find(function(t){return t.id===e.userId}).name}})}(t,n).map(function(e,t){return a.a.createElement(G,{todo:e,index:t,key:e.id})}))):a.a.createElement(w.a,{active:!0,inverted:!0},a.a.createElement(h.a,{size:"big",inverted:!0},"Loading"))}),N=Object(u.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.GET_TODOS:return _({},e,{todoList:t.payload});case y.GET_USERS:return _({},e,{userList:t.payload});case y.SET_LOADING_ERROR:return _({},e,{loadingError:t.payload});case y.CLOSE_TODO:return _({},e,{todoList:e.todoList.filter(function(e){return e.id!==t.payload}),editItem:null});default:return e}},Object(u.a)(i.a));var k=function(){return a.a.createElement(c.a,{store:N},a.a.createElement("div",{className:"wrapper"},a.a.createElement(I,null)))};o.a.render(a.a.createElement(k,null),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.d567c38d.chunk.js.map