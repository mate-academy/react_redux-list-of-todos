(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,o){e.exports=o(28)},20:function(e,t,o){},26:function(e,t,o){},27:function(e,t,o){},28:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(5),c=o.n(a),s=(o(20),o(3)),d=(o(26),function(e){var t=e.todo;return r.a.createElement("div",{className:t.completed?"card text-white bg-success mb-3":"card bg-light mb-3"},r.a.createElement("h2",{className:"card-header"},t.title),r.a.createElement("p",{className:"cardbody mt-3"},t.completed?"\u2714":"\u2718"),r.a.createElement("p",null,t.user))}),l=(o(27),function(e){var t=e.todos;return r.a.createElement("div",{className:"todo-list"},t.map(function(e){return r.a.createElement(d,{todo:e,key:e.id})}))}),i=Object(s.b)(function(e){return{todos:"Do not sort"===e.selectedSort?e.todos:e.sortedTodos}})(l),u=function(e){var t=e.getTodos,o=e.isLoading,n=e.sortTodos,a=(e.isSorted,e.selectedSort),c=e.isLoaded;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"title"},"Dynamic list of todos"),c&&r.a.createElement(r.a.Fragment,null,"Sort by:"," ",r.a.createElement("select",{type:"button",value:a,onChange:function(e){n(e.target.value)},className:"mb-3"},r.a.createElement("option",{value:"Do not sort"},"Do not sort"),r.a.createElement("option",{value:"By user name"},"By user name"),r.a.createElement("option",{value:"By title"},"By title"),r.a.createElement("option",{value:"TODO/Completed"},"TODO/Completed")),r.a.createElement(i,null))||o&&r.a.createElement("button",{type:"button"},"loading...")||r.a.createElement("button",{type:"button",onClick:t},"Get todos"))},p=o(6),m=o(10),O=o(11),f=o(4),y=o(14);function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function D(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(o,!0).forEach(function(t){Object(m.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var T={ADD_TODOS:"ADD::TODOS",TOGGLE_LOADING:"TOGGLE::LOADING",SWITCH_SORT:"SWITCH::SORT"},E={todos:[],sortedTodos:[],isLoading:!1,isLoaded:!1,isSorted:!1,selectedSort:"Do not sort"},S=function(e){return{type:T.TOGGLE_LOADING,payload:e}},v=function(){return function(e){e(S(!0)),Promise.all([fetch("https://jsonplaceholder.typicode.com/todos"),fetch("https://jsonplaceholder.typicode.com/users")]).then(function(e){var t=Object(O.a)(e,2),o=t[0],n=t[1];return Promise.all([o.json(),n.json()])}).then(function(t){var o=Object(O.a)(t,2),n=o[0],r=o[1].reduce(function(e,t){return D({},e,Object(m.a)({},t.id,t.name))},{}),a=n.map(function(e){return D({},e,{user:r[e.userId]})});e(function(e){return{type:T.ADD_TODOS,payload:e}}(a)),e(S("loaded"))})}};var g=Object(f.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case T.ADD_TODOS:return D({},e,{todos:Object(p.a)(t.payload),sortedTodos:Object(p.a)(t.payload)});case T.TOGGLE_LOADING:return D({},e,{isLoading:!0,isLoaded:"loaded"===t.payload});case T.SWITCH_SORT:return D({},e,{sortedTodos:Object(p.a)(e.todos).sort(function(e,o){return"By user name"===t.payload?e.user.localeCompare(o.user):"By title"===t.payload?e.title.localeCompare(o.title):"TODO/Completed"===t.payload?e.completed?1:-1:void 0}),isSorted:"Do not sort"!==t.payload,selectedSort:t.payload});default:return e}},Object(f.a)(y.a)),j=Object(s.b)(function(e){return{todos:e.todos,sortedTodos:e.sortedTodos,isLoading:e.isLoading,isSorted:e.isSorted,selectedSort:e.selectedSort,isLoaded:e.isLoaded}},function(e){return{getTodos:function(){return e(v())},sortTodos:function(t){return e(function(e){return{type:T.SWITCH_SORT,payload:e}}(t))}}})(u);c.a.render(r.a.createElement(s.a,{store:g},r.a.createElement(j,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b982c2e5.chunk.js.map