{"version":3,"sources":["store/reducer.js","components/User/User.js","components/TodoItem/TodoItem.js","components/TodoItem/index.js","components/TodoList/TodoList.js","components/App/App.js","components/App/index.js","store/store.js","index.js"],"names":["handleRemove","id","type","payload","initialState","isLoading","hasError","disabled","todosWithUsers","User","_ref","user","username","name","phone","website","email","react_default","a","createElement","className","TodoItem","todo","title","completed","onClick","components_User_User","TodoItemWrap","connect","dispatch","TodoList","todos","map","key","App","loadDatas","_this$props","_this","props","startLoading","handleSuccess","handleError","Promise","all","fetch","then","users","json","_ref2","Object","slicedToArray","App_objectSpread","find","userId","catch","_this$props2","this","handleSort","sortedTodos","Fragment","onChange","e","target","value","selected","hidden","components_TodoList_TodoList","React","Component","defaultProps","AppWrap","state","store","createStore","arguments","length","undefined","action","_objectSpread","toConsumableArray","filter","sort","b","localeCompare","ReactDOM","render","es","document","getElementById"],"mappings":"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","file":"static/js/main.aa8d84aa.chunk.js","sourcesContent":["export const LOAD = 'LOAD';\nexport const HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nexport const HANDLE_ERROR = 'HANDLE_ERROR';\nexport const HANDLE_REMOVE = 'HANDLE_REMOVE';\nexport const HANDLE_SORT = 'HANDLE_SORT';\n\nexport const startLoading = () => ({ type: LOAD });\nexport const handleSuccess = todosWithUsers => ({\n  type: HANDLE_SUCCESS,\n  todosWithUsers,\n});\nexport const handleError = () => ({ type: HANDLE_ERROR });\nexport const handleRemove = id => ({\n  type: HANDLE_REMOVE,\n  payload: id,\n});\nexport const handleSort = e => ({\n  type: HANDLE_SORT,\n  payload: e,\n});\n\nexport const initialState = {\n  isLoading: false,\n  hasError: false,\n  disabled: false,\n  todosWithUsers: [],\n  // sortedTodos: [],\n};\n\nexport const reducer = (state = initialState, action = {}) => {\n  switch (action.type) {\n    case LOAD:\n      return {\n        ...state,\n        isLoading: true,\n        hasError: false,\n      };\n\n    case HANDLE_SUCCESS:\n      return {\n        ...state,\n        todosWithUsers: action.todosWithUsers,\n        isLoading: false,\n        hasError: false,\n        disabled: true,\n      };\n\n    case HANDLE_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n\n    case HANDLE_REMOVE:\n      return {\n        todosWithUsers: [...state.todosWithUsers]\n          .filter(todo => todo.id !== action.payload),\n      };\n\n    case HANDLE_SORT:\n      switch (action.payload) {\n        case 'By user':\n          return {\n            ...state,\n            todosWithUsers: [...state.todosWithUsers]\n              .sort((a, b) => a.user.username.localeCompare(b.user.username)),\n          };\n\n        case 'By title':\n          return {\n            ...state,\n            todosWithUsers: [...state.todosWithUsers]\n              .sort((a, b) => a.title.localeCompare(b.title)),\n          };\n\n        case 'By status':\n          return {\n            ...state,\n            todosWithUsers: [...state.todosWithUsers]\n              .sort((a, b) => a.completed - b.completed),\n          };\n\n        default:\n          return state;\n      }\n\n    default:\n      return state;\n  }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport './User.css';\n\nconst User = ({ user }) => {\n  const {\n    username, name, phone, website, email,\n  } = user;\n\n  return (\n    <div className=\"user\">\n      <p className=\"user__username\">\n        {username}\n      </p>\n      <p className=\"user__name\">\n        {name}\n      </p>\n      <p className=\"user__email\">\n        {email}\n      </p>\n      <p className=\"user__phone\">\n        {phone}\n      </p>\n      <p className=\"user__website\">\n        {website}\n      </p>\n    </div>\n  );\n};\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    username: PropTypes.string,\n    website: PropTypes.string,\n    phone: PropTypes.string,\n    id: PropTypes.number,\n    email: PropTypes.string,\n    name: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport './TodoItem.css';\nimport User from '../User/User';\n\nconst TodoItem = ({ todo, handleRemove }) => {\n  const {\n    id, title, completed, user,\n  } = todo;\n\n  return (\n    <div className={completed ? 'todo-item completed' : 'todo-item'}>\n      <p className=\"todo-item__title\">\n        <span className=\"digit\">{id}</span>\n        <button\n          onClick={() => handleRemove(id)}\n          type=\"button\"\n          className=\"remove\"\n        >\n          âœ•\n        </button>\n      </p>\n      <p className=\"todo-item__main-title\">{title}</p>\n      <User user={user} />\n    </div>\n  );\n};\n\nTodoItem.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string,\n    completed: PropTypes.bool,\n    id: PropTypes.number,\n    user: PropTypes.shape({}).isRequired,\n  }).isRequired,\n  handleRemove: PropTypes.func.isRequired,\n};\n\nexport default TodoItem;\n","import { connect } from 'react-redux';\nimport { handleRemove } from '../../store/reducer';\nimport TodoItem from './TodoItem';\n\nconst mapDispatchToProps = dispatch => ({\n  handleRemove: id => dispatch(handleRemove(id)),\n});\n\nconst TodoItemWrap = connect(null, mapDispatchToProps)(TodoItem);\n\nexport {\n  TodoItemWrap as TodoItem,// eslint-disable-line\n};\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport './TodoList.css';\nimport { TodoItem } from '../TodoItem/index';\n\nconst TodoList = ({ todos }) => (\n  <div className=\"todos-list\">\n    { todos.map(todo => (\n      <TodoItem key={todo.id} todo={todo} />\n    ))}\n  </div>\n);\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      id: PropTypes.number,\n      completed: PropTypes.bool,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TodoList;\n","import React from 'react';\n\nimport PropTypes from 'prop-types';\nimport TodoList from '../TodoList/TodoList';\n\nclass App extends React.Component {\n  loadDatas = () => {\n    const {\n      startLoading, handleSuccess, handleError,\n    } = this.props;\n\n    startLoading();\n\n    Promise.all([\n      fetch('https://jsonplaceholder.typicode.com/users')\n        .then(users => users.json()),\n      fetch('https://jsonplaceholder.typicode.com/todos')\n        .then(todos => todos.json()),\n    ])\n      .then(([users, todos]) => {\n        const todosWithUsers = todos.map(todo => ({\n          ...todo,\n          user: users.find(user => user.id === todo.userId),\n        }));\n        handleSuccess(todosWithUsers);\n      })\n      .catch(() => {\n        handleError();\n      });\n  }\n\n  render() {\n    const {\n      todosWithUsers,\n      isLoading,\n      hasError,\n      disabled,\n      handleSort,\n    } = this.props;\n\n    const sortedTodos = todosWithUsers;\n    if (isLoading) {\n      return (<p>Loading...</p>);\n    }\n\n    if (hasError) {\n      return (\n        <>\n          <p>Error priexal!</p>\n          <button type=\"button\" onClick={this.loadDatas}>Try again</button>\n        </>\n      );\n    }\n\n    return (\n      <>\n        <h1 className=\"h1\">Dynamic list of todos</h1>\n        {!disabled\n          ? (\n            <button\n              onClick={this.loadDatas}\n              className=\"button-start\"\n              type=\"button\"\n            >\n              Load\n            </button>\n          )\n          : (\n            <select onChange={(e) => {\n              handleSort(e.target.value);\n            }}\n            >\n              <option value=\"Sorting\" selected hidden>Sorting</option>\n              <option value=\"By user\">By user</option>\n              <option value=\"By title\">By title</option>\n              <option value=\"By status\">By status</option>\n            </select>\n          )\n        }\n        <TodoList todos={sortedTodos} />\n      </>\n    );\n  }\n}\n\nApp.propTypes = {\n  handleSuccess: PropTypes.func.isRequired,\n  handleError: PropTypes.func.isRequired,\n  startLoading: PropTypes.func.isRequired,\n  handleSort: PropTypes.func.isRequired,\n  todosWithUsers: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string,\n      id: PropTypes.number,\n    }).isRequired,\n  ).isRequired,\n  isLoading: PropTypes.bool,\n  hasError: PropTypes.bool,\n  disabled: PropTypes.bool,\n};\n\nApp.defaultProps = {\n  hasError: false,\n  isLoading: false,\n  disabled: false,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport {\n  startLoading,\n  handleSuccess,\n  handleError,\n  handleRemove,\n  handleSort,\n} from '../../store/reducer';\n\nconst mapStateToProps = state => ({\n  isLoading: state.isLoading,\n  hasError: state.hasError,\n  todosWithUsers: state.todosWithUsers,\n  disabled: state.disabled,\n  sortedTodos: state.sortedTodos,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  startLoading: () => dispatch(startLoading()),\n  handleSuccess: todosWithUsers => dispatch(handleSuccess(todosWithUsers)),\n  handleError: () => dispatch(handleError()),\n  handleRemove: id => dispatch(handleRemove(id)),\n  handleSort: e => dispatch(handleSort(e)),\n});\n\nconst AppWrap = connect(mapStateToProps, mapDispatchToProps)(App);\n\nexport {\n  AppWrap as App,// eslint-disable-line\n};\n","import { createStore } from 'redux';\n\nimport { reducer, initialState } from './reducer';\n\nconst store = createStore(reducer, initialState);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport { App } from './components/App';\nimport store from './store/store';\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}