{"version":3,"sources":["store/reducer.js","store/configureStore.js","store/consts.js","store/actions.js","store/fetchPostsAndUsers.js","store/deleteTodo.js","components/User/User.jsx","components/TodoItem/TodoItem.jsx","containers/TodoItem/TodoItem.js","components/TodoList/TodoList.jsx","containers/TodoList/TodoList.js","App.js","index.js"],"names":["initialState","preparedTodos","isLoading","hasError","isDelete","store","createStore","state","arguments","length","undefined","action","type","_objectSpread","filter","todo","id","itemId","composeWithDevTools","applyMiddleware","thunk","handleError","handleSuccess","loadTodosAndUsers","dispatch","usersApi","todosApi","Promise","all","fetch","then","_ref","_ref2","Object","slicedToArray","res1","res2","json","_ref3","_ref4","users","map","fetchPostsAndUsers_objectSpread","user","find","userId","catch","deleteTodoFromList","deleteTodo","User","name","username","email","completed","react_default","a","createElement","className","concat","TodoItem","key","title","onClick","components_User_User","assign","connect","ownProps","TodoList","activeFilter","handleChange","event","_this","setState","target","value","_this$props","this","props","filteredTodos","sort","b","loadTodosUsers","Fragment","onChange","form","containers_TodoItem_TodoItem","React","Component","App","containers_TodoList_TodoList","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.8b87b90f.chunk.js","sourcesContent":["import {\n  HANDLE_ERROR, HANDLE_SUCCESS, START_LOADING, HANDLE_DELETE,\n} from './consts';\n\nexport const initialState = {\n  preparedTodos: [],\n  isLoading: false,\n  hasError: false,\n  isDelete: false,\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n        hasError: false,\n      };\n    case HANDLE_SUCCESS:\n      return {\n        ...state,\n        preparedTodos: action.preparedTodos,\n        isLoading: false,\n      };\n    case HANDLE_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        hasError: true,\n      };\n    case HANDLE_DELETE:\n      return {\n        ...state,\n        preparedTodos: state.preparedTodos\n          .filter(todo => todo.id !== action.itemId),\n      };\n    default:\n      return state;\n  }\n};\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { reducer } from './reducer';\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n);\n\nexport default store;\n","export const START_LOADING = 'START_LOADING';\nexport const HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nexport const HANDLE_ERROR = 'HANDLE_ERROR';\nexport const HANDLE_DELETE = 'HANDLE_DELETE';\n","import {\n  HANDLE_ERROR, HANDLE_SUCCESS, START_LOADING, HANDLE_DELETE,\n} from './consts';\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const handleError = () => ({ type: HANDLE_ERROR });\nexport const handleSuccess = preparedTodos => ({\n  type: HANDLE_SUCCESS,\n  preparedTodos,\n});\nexport const deleteTodo = itemId => ({\n  type: HANDLE_DELETE,\n  itemId,\n});\n","import { handleError, startLoading, handleSuccess } from './actions';\n\nconst loadTodosAndUsers = () => (dispatch) => {\n  const usersApi = 'https://jsonplaceholder.typicode.com/users';\n  const todosApi = 'https://jsonplaceholder.typicode.com/todos';\n\n  dispatch(startLoading());\n\n  function getData() {\n    Promise.all([\n      fetch(usersApi),\n      fetch(todosApi),\n    ])\n      .then(([res1, res2]) => Promise.all([res1.json(), res2.json()]))\n      .then(([users, todos]) => {\n        const preparedTodos = todos.map(todo => ({\n          ...todo,\n          user: users.find(user => user.id === todo.userId),\n        }));\n        dispatch(handleSuccess(preparedTodos));\n      })\n      .catch(() => {\n        dispatch(handleError());\n      });\n  }\n  getData();\n};\n\nexport default loadTodosAndUsers;\n","import { deleteTodo } from './actions';\n\nconst deleteTodoFromList = itemId => (dispatch) => {\n  dispatch(deleteTodo(itemId));\n};\n\nexport default deleteTodoFromList;\n","import React from 'react';\nimport './User.scss';\n\nfunction User({\n  name, username, email, completed,\n}) {\n  return (\n    <div className={`user-item${completed ? ' green' : ' red'}`}>\n      <p className=\"user-item__name\">{name}</p>\n      <h2 className=\"user-item__username\">{username}</h2>\n      <p className=\"user-item__mail\">{email}</p>\n    </div>\n  );\n}\n\nexport default User;\n","import React from 'react';\nimport './Todo.scss';\nimport User from '../User/User';\n\nconst TodoItem = ({ todo, deleteTodoFromList }) => {\n  const {\n    key, title, completed, user,\n  } = todo;\n  return (\n    <div className=\"todo-item\" key={key}>\n      <div className=\"todo-item__title-block\">\n        <h2 className=\"todo-item__title\">{title}</h2>\n        <button\n          type=\"button\"\n          onClick={deleteTodoFromList}\n          className=\"todo-item__delete\"\n        >\n          X\n        </button>\n      </div>\n\n      <p className=\"todo-item__check\">{completed ? '\\u2705' : '\\u274c'}</p>\n      <User {...user} completed={completed} />\n    </div>\n  );\n};\n\nexport default TodoItem;\n","import { connect } from 'react-redux';\nimport deleteTodoFromList from '../../store/deleteTodo';\nimport TodoItem from '../../components/TodoItem/TodoItem';\n\nconst mapStateToProps = state => ({});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  deleteTodoFromList: () => dispatch(deleteTodoFromList(ownProps.todo.id)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoItem);\n","import React from 'react';\nimport TodoItem from '../../containers/TodoItem/TodoItem';\nimport './TodosList.scss';\n\nclass TodoList extends React.Component {\n  state = {\n    activeFilter: 'origin',\n  }\n\n  handleChange = (event) => {\n    this.setState({ activeFilter: event.target.value });\n  }\n\n  render() {\n    const { preparedTodos, isLoading, hasError } = this.props;\n    const { activeFilter } = this.state;\n    let filteredTodos = preparedTodos;\n\n    switch (activeFilter) {\n      case 'name':\n        filteredTodos = preparedTodos.sort((a, b) => {\n          if (a.user.username < b.user.username) { return -1; }\n          if (a.user.username > b.user.username) { return 1; }\n          return 0;\n        });\n        break;\n      case 'title':\n        filteredTodos = preparedTodos.sort((a, b) => {\n          if (a.title < b.title) { return -1; }\n          if (a.title > b.title) { return 1; }\n          return 0;\n        });\n        break;\n      case 'status':\n        filteredTodos = preparedTodos.sort((a, b) => {\n          if (a.completed < b.completed) { return -1; }\n          if (a.completed > b.completed) { return 1; }\n          return 0;\n        });\n        break;\n      case 'origin':\n        filteredTodos = preparedTodos.sort((a, b) => {\n          if (a.id < b.id) { return -1; }\n          if (a.id > b.id) { return 1; }\n          return 0;\n        });\n        break;\n      default:\n        return null;\n    }\n\n    return (\n      (isLoading && (\n        <div>\n          <p>Loading...</p>\n          <button\n            type=\"button\"\n            onClick={this.props.loadTodosUsers}\n          >\n              Load\n          </button>\n        </div>\n      ))\n      || (hasError && (\n        <p>Error occurred!!!</p>\n      ))\n      || (preparedTodos.length === 0 && (\n        <>\n          <p>No users yet</p>\n          <button\n            type=\"button\"\n            onClick={this.props.loadTodosAndUsers}\n          >\n                      Load\n          </button>\n        </>\n      ))\n      || (\n        <div className=\"todos\">\n          <div className=\"todos__sort\">\n            <form className=\"todos__sort-form\" id=\"sort-form\">\n              <p>Select by:</p>\n              <select\n                value={this.state.activeFilter}\n                onChange={this.handleChange}\n                name=\"sort-list\"\n                form=\"sort-form\"\n              >\n                <option value=\"origin\">origin</option>\n                <option value=\"name\">name</option>\n                <option value=\"title\">title</option>\n                <option value=\"status\">item status</option>\n              </select>\n            </form>\n          </div>\n          {filteredTodos.map(todo => <TodoItem key={todo.id} todo={todo} />)}\n        </div>\n      )\n    );\n  }\n}\n\nexport default TodoList;\n","import { connect } from 'react-redux';\nimport loadTodosAndUsers from '../../store/fetchPostsAndUsers';\nimport TodoList from '../../components/TodoList/TodoList';\n\nconst mapStateToProps = state => ({\n  preparedTodos: state.preparedTodos,\n  isLoading: state.isLoading,\n  hasError: state.hasError,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  loadTodosAndUsers: () => dispatch(loadTodosAndUsers()),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TodoList);\n","import React from 'react';\nimport TodosList from './containers/TodoList/TodoList';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <TodosList />\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/configureStore';\nimport App from './App';\n\nrender(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}