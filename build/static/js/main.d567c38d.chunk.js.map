{"version":3,"sources":["consts.js","text.js","actions/actions.js","reducers/reducer.js","components/Todo.js","components/TodoList.js","App.js","index.js"],"names":["API","ENDPOINTS","USERS","concat","TODOS","TODOS_TEXT","LOADING_ERROR","RETRY_LOADING","TODO_ACTIONS","GET_TODOS","GET_USERS","SET_LOADING_ERROR","CLOSE_TODO","getTodos","todos","type","payload","getUsers","users","setLoadingError","error","deleteTodo","id","dispatch","item","initialState","todoList","userList","loadingError","editItem","connect","state","closeTodo","_ref","todo","index","num","react_default","a","createElement","Table","Row","key","className","completed","Cell","title","user","Icon","name","onClick","style","display","loadTodos","Object","asyncToGenerator","regenerator_default","mark","_callee","success","responseTodos","responseUsers","wrap","_context","prev","next","fetch","sent","status","json","finish","stop","_x","apply","this","arguments","useEffect","Message","negative","Header","Button","celled","HeaderCell","Body","map","find","userId","joinTodos","components_Todo","Dimmer","active","inverted","Loader","size","store","createStore","length","undefined","action","_objectSpread","filter","applyMiddleware","thunk","App","es","components_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d567c38d.chunk.js","sourcesContent":["const API = 'https://jsonplaceholder.typicode.com/'\n\nexport const ENDPOINTS = {\n  USERS: `${API}users`,\n  TODOS: `${API}todos`,\n};\n","export const TODOS_TEXT = {\n  LOADING_ERROR: 'Sorry, the server is unavailable',\n  RETRY_LOADING: 'Try again',\n}\n","import { ENDPOINTS } from '../consts';\nimport { TODOS_TEXT } from '../text';\n\nexport const TODO_ACTIONS = {\n  GET_TODOS: 'GET_TODOS',\n  GET_USERS: 'GET_USERS',\n  SET_LOADING_ERROR: 'SET_LOADING_ERROR',\n  CLOSE_TODO: 'CLOSE_TODO',\n};\n\nfunction getTodos(todos) {\n  return {\n    type: TODO_ACTIONS.GET_TODOS,\n    payload: todos,\n  };\n}\n\nfunction getUsers(users) {\n  return {\n    type: TODO_ACTIONS.GET_USERS,\n    payload: users,\n  };\n}\n\nfunction setLoadingError(error) {\n  return {\n    type: TODO_ACTIONS.SET_LOADING_ERROR,\n    payload: error,\n  };\n}\n\nfunction closeTodo(item) {\n  return {\n    type: TODO_ACTIONS.CLOSE_TODO,\n    payload: item,\n  };\n}\n\nexport function loadTodos() {\n  return async(dispatch) => {\n    dispatch(setLoadingError(null));\n\n    let success = false;\n\n    try {\n      const responseTodos = await fetch(ENDPOINTS.TODOS);\n      const responseUsers = await fetch(ENDPOINTS.USERS);\n\n      if (responseTodos.status === 200 && responseUsers.status === 200) {\n        const todos = await responseTodos.json();\n        const users = await responseUsers.json();\n\n        dispatch(getTodos(todos));\n        dispatch(getUsers(users));\n\n        success = true;\n      }\n    } finally {\n      if (!success) {\n        dispatch(setLoadingError(TODOS_TEXT.LOADING_ERROR));\n      }\n    }\n  };\n}\n\nexport function deleteTodo(id) {\n  return (dispatch) => {\n    dispatch(closeTodo(id));\n  };\n}\n","import { TODO_ACTIONS } from '../actions/actions';\n\nconst initialState = {\n  todoList: null,\n  userList: null,\n  loadingError: null,\n  editItem: null,\n};\n\nexport function reducer(state = initialState, action) {\n  switch (action.type) {\n    case TODO_ACTIONS.GET_TODOS:\n      return {\n        ...state,\n        todoList: action.payload,\n      };\n    case TODO_ACTIONS.GET_USERS:\n      return {\n        ...state,\n        userList: action.payload,\n      };\n    case TODO_ACTIONS.SET_LOADING_ERROR:\n      return {\n        ...state,\n        loadingError: action.payload,\n      };\n    case TODO_ACTIONS.CLOSE_TODO:\n      return {\n        ...state,\n        todoList: state.todoList.filter(todo => todo.id !== action.payload),\n        editItem: null,\n      };\n    default:\n      return state;\n  }\n}\n","import React from 'react';\nimport { Icon, Table } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport { deleteTodo } from '../actions/actions';\n\nconst Todo = ({ todo, index, closeTodo }) => {\n  const num = index + 1;\n\n  return (\n    <Table.Row\n      key={todo.id}\n      className={todo.completed ? 'positive' : 'warning'}\n    >\n      <Table.Cell>{num}</Table.Cell>\n      <Table.Cell>{todo.title}</Table.Cell>\n      <Table.Cell>{todo.user}</Table.Cell>\n      <Table.Cell>\n        <span className=\"cell-icon\">\n          {todo.completed ? 'Completed' : 'In progress'}\n        </span>\n        <Icon\n          name=\"close\"\n          onClick={() => closeTodo(todo.id)}\n          style={\n            todo.completed ? { display: 'inline-block' } : { display: 'none' }\n          }\n        />\n      </Table.Cell>\n    </Table.Row>\n  );\n};\n\nexport default connect(state => ({\n  editItem: state.editItem,\n}), dispatch => ({ closeTodo: (id) => dispatch(deleteTodo(id)) }))(Todo);\n","import React, { useEffect } from 'react';\nimport {\n  Button,\n  Dimmer,\n  Loader,\n  Message,\n  Table,\n} from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport Todo from './Todo';\nimport { TODOS_TEXT } from '../text';\nimport { loadTodos } from '../actions/actions';\n\nconst joinTodos = (todos, users) => todos.map((todo) => {\n  const newTodo = {\n    id: todo.id,\n    title: todo.title,\n    completed: todo.completed,\n    user: users.find(user => user.id === todo.userId).name,\n  };\n\n  return newTodo;\n});\n\nconst TodoList = ({ todos, users, error, loadTodos }) => {\n  useEffect(() => {\n    loadTodos();\n  }, []);\n\n  if (error) {\n    return (\n      <Message negative className=\"error-area\">\n        <Message.Header>{error}</Message.Header>\n        <Button\n          negative\n          onClick={loadTodos}\n          className=\"error-button\"\n        >\n          {TODOS_TEXT.RETRY_LOADING}\n        </Button>\n      </Message>\n    );\n  }\n\n  if (todos && users) {\n    return (\n      <Table celled>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>N</Table.HeaderCell>\n            <Table.HeaderCell>Title</Table.HeaderCell>\n            <Table.HeaderCell>User</Table.HeaderCell>\n            <Table.HeaderCell>Completeness</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {joinTodos(todos, users).map((todo, index) => (\n            <Todo\n              todo={todo}\n              index={index}\n              key={todo.id}\n            />\n          ))}\n        </Table.Body>\n      </Table>\n    );\n  }\n\n  return (\n    <Dimmer active inverted>\n      <Loader size=\"big\" inverted>Loading</Loader>\n    </Dimmer>\n  );\n};\n\nexport default connect(state => ({\n  todos: state.todoList,\n  users: state.userList,\n  error: state.loadingError,\n}), dispatch => ({ loadTodos: () => dispatch(loadTodos()) }))(TodoList);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport './App.css';\nimport { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { reducer } from './reducers/reducer';\nimport TodoList from './components/TodoList';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <div className=\"wrapper\">\n        <TodoList />\n      </div>\n    </Provider>\n  );\n}\n\nexport default App;\n","import 'semantic-ui-css/semantic.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}