(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(45)},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),o=n.n(c),s=n(9),l=n(32),u=n(12),i=n(23),m=n(7),p=n(11),f=n.n(p),b=n(19),d=n(13),h=n(14),E=n(16),v=n(15),O=n(17),y=n(10),j=function(){var e=Object(b.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://jsonplaceholder.typicode.com/posts",e.next=3,fetch("https://jsonplaceholder.typicode.com/posts");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://jsonplaceholder.typicode.com/users",e.next=3,fetch("https://jsonplaceholder.typicode.com/users");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=Object(m.b)(null,function(e){return{handleDelete:function(t){return e({type:"DELETE_COMMENT",value:t})}}})(function(e){var t=e.comment,n=e.handleDelete;return a.a.createElement("div",{className:"comments"},a.a.createElement("b",null," Unknown: "),console.log(t),a.a.createElement("p",{className:"comment"},t.title),a.a.createElement("div",{className:"delete-comment",onClick:function(){return n(t.commentId)}}," ","Delete"))}),N=function(e){var t=e.userItem;return a.a.createElement("div",{className:"user_information"},a.a.createElement("p",null,a.a.createElement("b",null,"Name")," ",t.name),a.a.createElement("p",null,a.a.createElement("b",null,"Nick name")," ",t.username),a.a.createElement("p",null,a.a.createElement("b",null,"Email")," ",t.email))},C=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={showComment:!1},n}return Object(O.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.post,r=t.comments.filter(function(e){return+e.id===n.id});return a.a.createElement("div",null,a.a.createElement("li",{className:"post_list"},a.a.createElement(s.b,{className:"post_list-link",to:"/ViewPost/post/".concat(n.id)},a.a.createElement(N,{userItem:n.user,currentComments:r}),a.a.createElement("p",{className:"post_title"},a.a.createElement("b",null,"Title")," ",n.title),a.a.createElement("p",{className:"post_body"},n.body)),a.a.createElement("div",{tabIndex:0,role:"button",onKeyDown:function(){},className:"show_comments",onClick:function(){return e.setState(function(e){return{showComment:!e.showComment}})}},a.a.createElement("p",{className:"view-comments"},this.state.showComment?"Hide comments":"View comments")),this.state.showComment?r.map(function(e){return a.a.createElement(g,{key:e.id,comment:e})}):null))}}]),t}(a.a.Component),D=Object(m.b)(function(e){return{comments:e.comments}},null)(C),k=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(E.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={title:"",errorsMap:{title:""}},n.handleFormSubmit=function(e){e.preventDefault();var t={};n.setState(function(e){if(e.title||(t.title="Enter comment, please"),Object.keys(t).length>0)return{errorsMap:t};n.props.setComment({id:n.props.id,commentId:Date.now(),title:n.state.title})}),n.setState({title:""})},n.handleChange=function(e){var t;e.preventDefault();var r=e.target,a=r.name,c=r.value;n.setState((t={},Object(u.a)(t,a,c),Object(u.a)(t,"errorsMap",{title:""}),t))},n}return Object(O.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.id,r=e.comments,c=this.state,o=c.title,l=c.errorsMap,u=r.filter(function(e){return+e.id===t[n-1].id});return a.a.createElement("div",null,a.a.createElement(s.b,{to:"/",exact:!0,className:"back-btn"},"Back to Posts"),a.a.createElement("div",{className:"selected-post_list"},a.a.createElement(N,{userItem:t[n-1].user}),a.a.createElement("p",{className:"post_title"},a.a.createElement("b",null,"Title")," ",t[n-1].title),a.a.createElement("p",{className:"post_body"},t[n-1].body),a.a.createElement("p",{className:"post_comments"},u.length," ",u.length<2?"Comment":"Comments"),u.map(function(e){return a.a.createElement(g,{key:e.id,comment:e})})),a.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"form"},a.a.createElement("label",{htmlFor:"form-input"},a.a.createElement("input",{className:"form-field_input",value:o,type:"text",name:"title",placeholder:"Enter comment",onChange:this.handleChange})),a.a.createElement("div",{className:"form-field_error"},l.title&&a.a.createElement("div",null,l.title))))}}]),t}(a.a.Component),S=Object(m.b)(function(e){return{posts:e.posts,comments:e.comments}},function(e){return{setComment:function(t){return e({type:"SET_COMMENT",value:t})}}})(k);n(44);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x=function(e){function t(){return Object(d.a)(this,t),Object(E.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(f.a.mark(function e(){var t,n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return t=e.sent,e.next=5,j();case 5:n=e.sent,r=n.map(function(e){return _({},e,{user:t.find(function(t){return t.id===e.userId})})}),this.props.setData(r);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.posts;return a.a.createElement("div",null,a.a.createElement(s.c,{to:"/",exact:!0}),a.a.createElement("div",{className:"App"},a.a.createElement(y.a,{exact:!0,path:"/",render:function(){return a.a.createElement("div",null,e.map(function(e){return a.a.createElement("div",null,a.a.createElement(D,{post:e}))}))}}),a.a.createElement(y.a,{exact:!0,path:"/ViewPost/post/:id?",render:function(t){var n=t.match;return e?a.a.createElement(S,{id:n.params.id}):null}})))}}]),t}(a.a.Component),T=Object(m.b)(function(e){return{posts:e.posts}},function(e){return{setData:function(t){return e({type:"SET_DATA",value:t})}}})(x);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach(function(t){Object(u.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var A={posts:[],comments:[]},J=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),F=Object(i.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DATA":return I({},e,{posts:t.value});case"SET_COMMENT":return I({},e,{comments:[].concat(Object(l.a)(e.comments),[t.value])});case"DELETE_COMMENT":return I({},e,{comments:e.comments.filter(function(e){return e.commentId!==t.value})});default:return e}},J);F.subscribe(function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}(F.getState())});var V=function(){return a.a.createElement(m.a,{store:F},a.a.createElement(T,null))};o.a.render(a.a.createElement(s.a,null,a.a.createElement(V,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.6b3e3965.chunk.js.map