{"version":3,"sources":["store/index.js","components/User/User.js","constants/proptypes.js","components/TodoItem/TodoItem.js","components/TodoItem/index.js","components/TodoList/TodoList.js","components/TodoList/index.js","App/App.js","App/index.js","index.js"],"names":["BASE_URL","ACTION_TYPES","START_LOADING","HANDLE_SUCCESS","HANDLE_ERROR","SORT_BY_TITLE","DELETE_ITEM","initialState","todos","isLoaded","isLoading","hasError","store","createStore","state","arguments","length","undefined","action","type","_objectSpread","payload","Object","toConsumableArray","sort","a","b","title","filter","todo","id","applyMiddleware","thunk","User","PropTypes","bool","isRequired","func","arrayOf","object","shape","number","string","user","name","email","website","_ref","react_default","createElement","Fragment","className","TodoItem","deleteTodo","completed","alt","src","components_User_User","onClick","EnhancedTodoItem","connect","dispatch","ownProps","TodoList","sortByTitle","map","key","EnhancedTodoList","App","loadTodos","disabled","EnhancedApp","Promise","all","fetch","concat","then","_ref2","slicedToArray","users","json","_ref3","data","_ref4","todosWithUsers","find","userId","catch","ReactDOM","render","es","document","getElementById"],"mappings":"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","file":"static/js/main.9120fca8.chunk.js","sourcesContent":["import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\n\nconst BASE_URL = 'https://jsonplaceholder.typicode.com';\n\nconst ACTION_TYPES = {\n  START_LOADING: 'TOGGLE_LOADING',\n  HANDLE_SUCCESS: 'HANDLE_SUCCESS',\n  HANDLE_ERROR: 'HANDLE_ERROR',\n  SORT_BY_TITLE: 'SORT_BY_TITLE',\n  DELETE_ITEM: 'DELETE_ITEM',\n};\n\nexport const startLoading = () => ({\n  type: ACTION_TYPES.START_LOADING,\n});\n\nexport const addData = data => ({\n  type: ACTION_TYPES.HANDLE_SUCCESS,\n  payload: data,\n});\n\nexport const handleError = () => ({\n  type: ACTION_TYPES.HANDLE_ERROR,\n});\n\nexport const sortByTitle = () => ({\n  type: ACTION_TYPES.SORT_BY_TITLE,\n});\n\nexport const deleteTodo = id => ({\n  type: ACTION_TYPES.DELETE_ITEM,\n  payload: id,\n});\n\nexport const loadTodos = () => (dispatch) => {\n  dispatch(startLoading());\n\n  Promise.all([\n    fetch(`${BASE_URL}/todos`),\n    fetch(`${BASE_URL}/users`),\n  ])\n    .then(([todos, users]) => Promise.all([todos.json(), users.json()]))\n    .then(([todos, users]) => {\n      const todosWithUsers = todos.map(todo => ({\n        ...todo,\n        user: users.find(user => user.id === todo.userId),\n      }));\n\n      dispatch(addData(todosWithUsers));\n    })\n    .catch(() => dispatch(handleError()));\n};\n\nconst initialState = {\n  todos: [],\n  isLoaded: false,\n  isLoading: false,\n  hasError: false,\n};\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.START_LOADING: {\n      return {\n        ...state,\n        isLoading: true,\n        hasError: false,\n      };\n    }\n\n    case ACTION_TYPES.HANDLE_SUCCESS: {\n      return {\n        ...state,\n        todos: action.payload,\n        isLoaded: true,\n        isLoading: false,\n      };\n    }\n\n    case ACTION_TYPES.HANDLE_ERROR: {\n      return {\n        ...state,\n        hasError: true,\n        isLoading: false,\n      };\n    }\n\n    case ACTION_TYPES.SORT_BY_TITLE: {\n      return {\n        ...state,\n        todos: [...state.todos]\n          .sort((a, b) => (a.title > b.title ? 1 : -1)),\n      };\n    }\n\n    case ACTION_TYPES.DELETE_ITEM: {\n      return {\n        ...state,\n        todos: state.todos.filter(todo => todo.id !== action.payload),\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport const store = createStore(\n  reducer,\n  applyMiddleware(thunk),\n);\n","import React from 'react';\nimport './User.css';\nimport { UserPropTypes } from '../../constants/proptypes';\n\nconst User = ({ user }) => (\n  <>\n    <p className=\"user-name\">\n      {user.name}\n    </p>\n    <p className=\"user-mail\">\n      {user.email}\n    </p>\n    <p className=\"user-website\">\n      {user.website}\n    </p>\n  </>\n);\n\nUser.propTypes = UserPropTypes;\n\nexport default User;\n","import PropTypes from 'prop-types';\n\nexport const AppPropTypes = {\n  isLoaded: PropTypes.bool.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  hasError: PropTypes.bool.isRequired,\n  loadTodos: PropTypes.func.isRequired,\n};\n\nexport const TodoListPropTypes = {\n  todos: PropTypes.arrayOf(PropTypes.object).isRequired,\n  sortByTitle: PropTypes.func.isRequired,\n};\n\nexport const TodoItemPropTypes = {\n  todo: PropTypes.shape({\n    id: PropTypes.number,\n    title: PropTypes.string,\n    user: PropTypes.object,\n  }).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n};\n\nexport const UserPropTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    website: PropTypes.string,\n  }).isRequired,\n};\n","import React from 'react';\nimport User from '../User/User';\nimport './TodoItem.css';\nimport { TodoItemPropTypes } from '../../constants/proptypes';\n\nconst TodoItem = ({ todo, deleteTodo }) => (\n  <li className=\"todo-item\">\n    <div className={todo.completed ? 'info completed' : 'info'}>\n      <div className=\"drawing-pin\">\n        <img\n          className=\"drawing-pin__img\"\n          alt=\"drawing-pin\"\n          src=\"./images/Drawing-Pin.png\"\n        />\n      </div>\n      <h1 className=\"item-title\">\n        {todo.title}\n      </h1>\n      <div className=\"item-user\">\n        <User user={todo.user} />\n      </div>\n    </div>\n    <button\n      type=\"button\"\n      className=\"btn-delete-todo\"\n      onClick={deleteTodo}\n    >\n      Delete\n    </button>\n  </li>\n);\n\nTodoItem.propTypes = TodoItemPropTypes;\n\nexport default TodoItem;\n","import { connect } from 'react-redux';\nimport TodoItem from './TodoItem';\nimport { deleteTodo } from '../../store';\n\nconst EnhancedTodoItem = connect(\n  null,\n  (dispatch, ownProps) => ({\n    deleteTodo: () => dispatch(deleteTodo(ownProps.todo.id)),\n  }),\n)(TodoItem);\n\nexport {\n  EnhancedTodoItem as TodoItem,\n};\n","import React from 'react';\nimport { TodoItem } from '../TodoItem';\nimport './TodoList.css';\nimport { TodoListPropTypes } from '../../constants/proptypes';\n\nconst TodoList = ({\n  todos,\n  sortByTitle,\n}) => (\n  <>\n    <div className=\"buttons-wrapper\">\n      <button\n        type=\"button\"\n        className=\"sort-button\"\n        onClick={sortByTitle}\n      >\n        Sort by title\n      </button>\n    </div>\n    <ul className=\"todo-list\">\n      {todos.map(todo => (\n        <TodoItem todo={todo} key={todo.id} />\n      ))}\n    </ul>\n  </>\n);\n\nTodoList.propTypes = TodoListPropTypes;\n\nexport default TodoList;\n","import { connect } from 'react-redux';\nimport TodoList from './TodoList';\nimport { sortByTitle } from '../../store';\n\nconst EnhancedTodoList = connect(\n  state => ({ todos: state.todos }),\n  {\n    sortByTitle,\n  },\n)(TodoList);\n\nexport {\n  EnhancedTodoList as TodoList,\n};\n","import React from 'react';\nimport './App.css';\nimport { TodoList } from '../components/TodoList';\nimport { AppPropTypes } from '../constants/proptypes';\n\nconst App = ({\n  isLoaded,\n  isLoading,\n  hasError,\n  loadTodos,\n}) => (\n  <>\n    <h1 className=\"header\">Static list of todos</h1>\n    {isLoaded ? (\n      <div>\n        <TodoList />\n      </div>\n    ) : (\n      <>\n        {hasError && (\n          <h2 className=\"error-title\">Oh, failed, try again</h2>\n        )}\n        <button\n          type=\"button\"\n          className=\"load-button\"\n          onClick={loadTodos}\n          disabled={isLoading}\n        >\n          {isLoading ? 'Loading...' : 'Load todos'}\n        </button>\n      </>\n    )}\n  </>\n);\n\nApp.propTypes = AppPropTypes;\n\nexport default App;\n","import { connect } from 'react-redux';\nimport App from './App';\nimport { loadTodos } from '../store';\n\nconst EnhancedApp = connect(\n  state => ({\n    isLoaded: state.isLoaded,\n    isLoading: state.isLoading,\n    hasError: state.hasError,\n  }),\n  {\n    loadTodos,\n  },\n)(App);\n\nexport {\n  EnhancedApp as App,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport './index.css';\nimport { App } from './App';\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n"],"sourceRoot":""}