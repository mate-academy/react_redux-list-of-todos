(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(29)},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(8),i=n.n(a),s=n(7),c=n(5),u=n(2),l=n.n(u),d=n(1),p=n(6),f=n(14),T=n(15),m=function(){var e;return l.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/todos"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},O=function(){var e;return l.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},b=function(e){return{type:"GET_TODOS",todos:e}},S=function(e){return{type:"GET_USERS",users:e}},E=function(e){return{type:"PREPARE_TODOS",preparedTodos:e}},j=function(e){return e.isLoading},h=function(e){return e.isShown},y=function(e){return e.filteredTodos},_=Object(p.createStore)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(d.a)({},e,{isLoading:!0});case"GET_TODOS":return Object(d.a)({},e,{todos:t.todos});case"GET_USERS":return Object(d.a)({},e,{users:t.users});case"PREPARE_TODOS":return Object(d.a)({},e,{preparedTodos:t.preparedTodos,filteredTodos:t.preparedTodos,isLoading:!1,isShown:!1});case"DELETE_TODO":return Object(d.a)({},e,{filteredTodos:e.filteredTodos.filter(function(e){return e.id!==t.id}),preparedTodos:e.preparedTodos.filter(function(e){return e.id!==t.id})});case"SORT_BY_TITLE":return e.isSorting!==t.title?Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return e.title.localeCompare(t.title)}),isSorting:t.title}):Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return t.title.localeCompare(e.title)}),isSorting:""});case"SORT_BY_ID":return e.isSorting!==t.title?Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return e.id-t.id}),isSorting:t.title}):Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return t.id-e.id}),isSorting:""});case"SORT_BY_STATUS":return e.isSorting!==t.title?Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return e.completed-t.completed}),isSorting:t.title}):Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return t.completed-e.completed}),isSorting:""});case"SORT_BY_USER":return e.isSorting!==t.title?Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return e.user.name.localeCompare(t.user.name)}),isSorting:t.title}):Object(d.a)({},e,{filteredTodos:Object(c.a)(e.preparedTodos).sort(function(e,t){return t.user.name.localeCompare(e.user.name)}),isSorting:""});default:return e}},{todos:[],users:[],isLoading:!1,isShown:!0,isSorting:"id",preparedTodos:[],filteredTodos:[]},Object(T.composeWithDevTools)(Object(p.applyMiddleware)(f.a))),g=(n(28),n(16)),w=n.n(g),R=n(3),v=n.n(R),D=function(e){var t=e.user;return o.a.createElement(o.a.Fragment,null,t.name)};D.propTypes={user:v.a.objectOf(v.a.any).isRequired};var L=D,k=Object(s.b)(null,function(e){return{onDeleteTodo:function(t){return e(function(e){return{type:"DELETE_TODO",id:e}}(t))}}})(function(e){var t=e.todo,n=e.onDeleteTodo;return o.a.createElement("tr",null,o.a.createElement("td",null,t.id),o.a.createElement("td",null,t.title),o.a.createElement("td",{className:w()({done:t.completed},{undone:!t.completed})},t.completed?"finished":"not finished"),o.a.createElement("td",null,o.a.createElement(L,{user:t.user})),o.a.createElement("td",null,o.a.createElement("button",{type:"button",className:"button button--delete",onClick:function(){return n(t.id)}},"x")))}),x=Object(s.b)(function(e){return{isLoading:j(e),isShown:h(e),filteredTodos:y(e)}},function(e){return{loadTodosWithUsers:function(){return e(function(e){var t,n,r;return l.a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,l.a.awrap(e({type:"START_LOADING"}));case 2:return o.next=4,l.a.awrap(m());case 4:return t=o.sent,o.next=7,l.a.awrap(O());case 7:return n=o.sent,o.next=10,l.a.awrap(t.map(function(e){var t=n.find(function(t){return t.id===e.userId});return Object(d.a)({},e,{user:t})}));case 10:r=o.sent,e(b(t)),e(S(n)),e(E(r));case 14:case"end":return o.stop()}})})},sortTitle:function(t){return e(function(e){return{type:"SORT_BY_TITLE",title:e}}(t))},sortUser:function(t){return e(function(e){return{type:"SORT_BY_USER",title:e}}(t))},sortId:function(t){return e(function(e){return{type:"SORT_BY_ID",title:e}}(t))},sortStatus:function(t){return e(function(e){return{type:"SORT_BY_STATUS",title:e}}(t))}}})(function(e){var t=e.isLoading,n=e.isShown,r=e.filteredTodos,a=e.loadTodosWithUsers,i=e.sortTitle,s=e.sortUser,c=e.sortId,u=e.sortStatus,d=[{title:"id",callback:c},{title:"title",callback:i},{title:"status",callback:u},{title:"user",callback:s},{title:"delete"}];return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Dynamic list of todos"),n?o.a.createElement("button",{className:"button button--init",type:"button",onClick:function(){l.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(a());case 2:case"end":return e.stop()}})}},t?"Loading...":"Load"):o.a.createElement(o.a.Fragment,null,o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,d.map(function(e){return"delete"!==e.title?o.a.createElement("th",{onClick:function(){return e.callback(e.title)},key:e.title},e.title):o.a.createElement("th",{key:e.title},e.title)}))),o.a.createElement("tbody",null,r.map(function(e){return o.a.createElement(k,{todo:e,key:e.id})})))))});i.a.render(o.a.createElement(s.a,{store:_},o.a.createElement(x,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.9c4584b4.chunk.js.map