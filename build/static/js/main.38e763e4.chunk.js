(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(28)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(5),c=n.n(a),u=n(2),l=n(6),i=n(10),s=n(11),d=n(4),O=n(14);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D={ADD_TODOS:"TODOS_ADD",SWITCH_LOADING:"LOADING_SWITCH",IS_LOADED:"LOADED_IS",HAS_ERROR:"ERROR_HAS",IS_SORT:"IS_SORT",ADD_SORTED_TODOS:"SORTED_TODOS_ADD",DELETE_TODO:"TODO_DELETE"},f=function(e){return{type:D.SWITCH_LOADING,payload:e}},m=function(e){return{type:D.HAS_ERROR,payload:e}},S=function(){return function(e){var t;e(f(!0)),e((t=!0,{type:D.IS_LOADED,payload:t})),e(m(!1)),Promise.all([fetch("https://jsonplaceholder.typicode.com/todos"),fetch("https://jsonplaceholder.typicode.com/users")]).then(function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return Promise.all([n.json(),r.json()])}).then(function(t){var n=Object(s.a)(t,2),r=n[0],o=n[1].reduce(function(e,t){return E({},e,Object(i.a)({},t.id,t))},{});function a(e,t){return e.map(function(e){return E({},e,{user:t[e.userId]})})}var c,u=a(r,o),d=Object(l.a)(a(r,o)).sort(function(e,t){return e.title.localeCompare(t.title)});e(f(!1)),e(function(e){return{type:D.ADD_TODOS,payload:e}}(u)),e((c=d,{type:D.ADD_SORTED_TODOS,payload:c}))}).catch(function(){e(m(!0)),e(f(!1))})}},y={todos:[],todosSorted:[],isLoading:!1,isLoadData:!1,hasError:!1,isSorted:!1};var b=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case D.ADD_TODOS:return E({},e,{todos:Object(l.a)(t.payload)});case D.DELETE_TODO:var n=function(e){return e.filter(function(e){return e.id!==t.payload})};return E({},e,{todos:n(e.todos),todosSorted:n(e.todosSorted)});case D.ADD_SORTED_TODOS:return E({},e,{todosSorted:Object(l.a)(t.payload)});case D.SWITCH_LOADING:return E({},e,{isLoading:t.payload});case D.IS_LOADED:return E({},e,{isLoadData:t.payload});case D.HAS_ERROR:return E({},e,{hasError:t.payload});case D.IS_SORT:return E({},e,{isSorted:!e.isSorted});default:return e}},Object(d.a)(O.a));var T=function(e){var t=e.user;return o.a.createElement("div",null,o.a.createElement("p",null,"Responsible:",o.a.createElement("span",null,t.name)),o.a.createElement("p",null,"Contact:",o.a.createElement("span",null,t.email)))};n(25);var _=function(e){var t=e.todo,n=e.deleteTodo;return o.a.createElement("span",null,o.a.createElement("a",{href:"#"},o.a.createElement("h2",null,t.title),o.a.createElement("p",null,"Completed:"),o.a.createElement("div",null,o.a.createElement(T,{user:t.user}),o.a.createElement("button",{type:"button",onClick:function(){return n(t.id)}},"Delete Todo"))))},v=Object(u.b)(function(e){return{isLoading:e.isLoading,isLoadData:e.isLoadData,hasError:e.hasError}},function(e){return{deleteTodo:function(t){return e((n=t,{type:D.DELETE_TODO,payload:n}));var n}}})(_);n(26);var L=function(e){var t=e.todos,n=void 0===t?[]:t,r=e.todosSorted,a=void 0===r?[]:r,c=e.isSorted;return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"Todos:"),o.a.createElement("div",null,c?a.map(function(e){return o.a.createElement(v,{todo:e,key:e.id})}):n.map(function(e){return o.a.createElement(v,{todo:e,key:e.id})})))},h=Object(u.b)(function(e){return{todos:e.todos,todosSorted:e.todosSorted,isSorted:e.isSorted}})(L),g=(n(27),function(e){var t=e.isLoading,n=e.getTodosUsers,r=e.isLoadData,a=e.hasError,c=e.sortTodos;return t?o.a.createElement("p",null,"Loading..."):a?o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Please, try again."),o.a.createElement("button",{type:"button",onClick:n},"Load again")):r?o.a.createElement("div",null,o.a.createElement("button",{type:"button",onClick:c},"Sort"),o.a.createElement(h,null)):o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Do you want to upload a list of todos?"),o.a.createElement("button",{type:"button",onClick:n},"Load"))}),j=Object(u.b)(function(e){return{isLoading:e.isLoading,isLoadData:e.isLoadData,hasError:e.hasError}},function(e){return{getTodosUsers:function(){return e(S())},sortTodos:function(){return e({type:D.IS_SORT})}}})(g);c.a.render(o.a.createElement(u.a,{store:b},o.a.createElement(j,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.38e763e4.chunk.js.map