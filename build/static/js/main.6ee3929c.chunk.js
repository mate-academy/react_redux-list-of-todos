(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{24:function(e,t,r){e.exports=r(48)},35:function(e,t,r){},36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(5),c=r.n(o),s=r(10),i=r(6),l=r(3),u=r(20),p={LOAD_TODOS:"LOAD::TODOS",SET_FILTER_PATTERN:"SET::FILTER::PATTERN",SET_ERROR_MESSAGE:"ERROR::MESSAGE"},d=function(e){return{type:p.LOAD_TODOS,payload:e}},m=function(e){return{type:p.SET_FILTER_PATTERN,payload:e}},f=function(e){return{type:p.SET_ERROR_MESSAGE,payload:e}};function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=Object(l.createStore)((function(e,t){var r=p.LOAD_TODOS,n=p.SET_FILTER_PATTERN,a=p.SET_ERROR_MESSAGE;switch(t.type){case r:return O({},e,{todos:t.payload});case n:return O({},e,{filterPattern:t.payload});case a:return O({},e,{error:t.payload});default:return e}}),{todos:[],filterPattern:"",error:null},Object(u.devToolsEnhancer)(d(),m(),f())),h=r(17),y=r.n(h),v=r(11),j=r(21),g=r(7),w=r(8),S=r(12),_=r(9),T=r(13),P=(r(35),r(36),r(37),r(38),function(e){var t=e.name,r=e.username,n=e.email,o=t.split(" "),c=o.splice(0,1);return a.a.createElement("div",{className:"user"},a.a.createElement("p",{className:"user__title"},c),a.a.createElement("p",{className:"user__title user--nik"},"'".concat(r,"'")),a.a.createElement("p",{className:"user__title"},o.join(" ")),a.a.createElement("p",{className:"user__title user--email"},n))});var k=function(e){var t=e.title,r=e.completed,n=e.user;return a.a.createElement("div",{className:"todo-item"},a.a.createElement("h2",{className:"todo-item__title"},t),a.a.createElement("p",{className:"todo-item__check"},r?"\u2713":""),a.a.createElement(P,n))},N=function(e){var t=Object(n.useState)(e),r=Object(v.a)(t,2);return{value:r[0],set:r[1]}},D=Object(s.b)((function(e){return{todos:e.todos,filterPattern:e.filterPattern}}))((function(e){var t=e.todos,r=e.filterPattern,o=N(t),c=N(r);return Object(n.useEffect)((function(){""===r?o.set(t):(o.set(t.sort((function(e,t){return e[r]>t[r]?1:e[r]<t[r]?-1:e.id>t.id?1:e.id<t.id?-1:0}))),c.set(r))})),a.a.createElement("div",{className:"todolist"},o.value.map((function(e){return a.a.createElement(k,Object.assign({key:e.id},e))})))})),L=r(22),R=r.n(L),A=r(23),x=r.n(A),M=(r(47),function(e){function t(){var e,r;Object(g.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(S.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(a)))).state={isOpen:!1},r.handleDropdownToggle=function(){r.setState((function(e){return{isOpen:!e.isOpen}}))},r.handleDropdownSelect=function(e){r.setState({isOpen:!1}),E.dispatch(m(e.target.dataset.value))},r}return Object(T.a)(t,e),Object(w.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.title,n=t.itemsList;return a.a.createElement("div",{className:"dropdown"},a.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",onClick:this.handleDropdownToggle},r),a.a.createElement("div",{className:R()("dropdown-menu",{show:this.state.isOpen}),"aria-labelledby":"dropdownMenuButton"},n.map((function(t){return a.a.createElement("p",{key:x.a.generate(),className:"dropdown-item","data-value":t.value,onClick:e.handleDropdownSelect},t.option)}))))}}]),t}(n.Component));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(r,!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B="https://jsonplaceholder.typicode.com",F=[{option:"Title",value:"title"},{option:"User",value:"userName"},{option:"Status",value:"completed"}],G=function(e){function t(){var e,r;Object(g.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(r=Object(S.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).state={isLoaded:!1,isLoading:!1,errorMessage:null},r.onLoadClick=Object(j.a)(y.a.mark((function e(){var t,n,a,o,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setState({isLoading:!0}),e.prev=1,e.next=4,Promise.all([fetch("".concat(B,"/todos")),fetch("".concat(B,"/users"))]);case 4:if(t=e.sent,n=Object(v.a)(t,2),a=n[0],o=n[1],a.ok){e.next=10;break}throw new Error("ToDo list fetch is broken");case 10:if(o.ok){e.next=12;break}throw new Error("User list fetch is broken");case 12:return e.next=14,a.json();case 14:return c=e.sent,e.next=17,o.json();case 17:s=e.sent,E.dispatch(d(c.map((function(e){return I({},e,{user:s.find((function(t){return t.id===e.userId}))})})).map((function(e){return I({},e,{userName:e.user.name})})))),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),E.dispatch(f(e.t0.message));case 24:r.setState({isLoaded:!0,isLoading:!1});case 25:case"end":return e.stop()}}),e,null,[[1,21]])}))),r.loaderButton=function(){return r.state.isLoading?a.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},a.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Loading..."):a.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return r.onLoadClick()}},"Load")},r}return Object(T.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.subscribe((function(){return e.setState({errorMessage:E.getState().error})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,r=e.errorMessage;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of todos"),a.a.createElement("h2",{className:"error-message"},r),t?a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{title:"Sort by",itemsList:F}),a.a.createElement(D,null)):this.loaderButton())}}]),t}(n.Component);c.a.render(a.a.createElement(s.a,{store:E},a.a.createElement(G,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6ee3929c.chunk.js.map